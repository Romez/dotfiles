---
- hosts: localhost
  tasks:
    - name: install cmd apps Linux
      apt:
        name: [
          git,
          terminator,
        ]
      become: true
      when: ansible_facts['os_family'] == "Debian"

    - name: nvm load
      get_url:
        url: https://raw.githubusercontent.com/nvm-sh/nvm/v0.36.0/install.sh
        dest: /tmp/nvm-install.sh
      when: ansible_facts['os_family'] == "Debian"

    - name: nvm install
      shell: bash nvm-install.sh
      args:
        chdir: /tmp
        creates: ~/.nvm
      when: ansible_facts['os_family'] == "Debian"

    - name: install cmd apps OSX
      homebrew:
        name: [
          "git",
          "ansible",
          "htop",
          "asciinema",
          "nvm",
          "tree",
          "yarn",
          "terraform",
          "heroku/brew/heroku",
          "wget",
          "pstree",
          ]
        state: latest
      tags: cmd
      when: ansible_facts['os_family'] == "Darwin"
